import{Ba as x,L as d,N as o,Pa as v,Q as m,R as u,Ra as h,V as s,Wa as E,Za as S,aa as a,ab as I,ba as n,bb as D,ca as t,da as g,ia as p,ra as i,sa as b,ta as c}from"./chunk-JNNCZCZI.js";var y=r=>["/prestamo",r];function w(r,l){r&1&&(n(0,"div",15),i(1," No disponible "),t())}function k(r,l){if(r&1&&(n(0,"div",7)(1,"div",8),g(2,"img",9),s(3,w,2,0,"div",10),t(),n(4,"h5",11),i(5),t(),n(6,"p",12)(7,"strong"),i(8,"Autor:"),t(),i(9),t(),n(10,"p",12)(11,"strong"),i(12,"Fecha de publicaci\xF3n:"),t(),i(13),t(),n(14,"p",12)(15,"strong"),i(16,"Editorial:"),t(),i(17),t(),n(18,"p",13)(19,"strong"),i(20,"ISBN:"),t(),i(21),t(),n(22,"button",14),i(23," Solicitar pr\xE9stamo "),t()()),r&2){let e=p();o(2),a("src",e.libro.imagenUrl,d)("alt",e.libro.titulo),o(),a("ngIf",e.contarDisponibles()===0),o(2),b(e.libro.titulo),o(4),c(" ",e.libro.autor),o(4),c(" ",e.libro.fechaPublicacion),o(4),c(" ",e.libro.editorial),o(4),c(" ",e.libro.isbn),o(),a("routerLink",x(9,y,e.libro.id))}}function C(r,l){if(r&1&&(n(0,"div",16)(1,"h5",17),i(2,"Descripci\xF3n"),t(),n(3,"p",18),i(4),t(),n(5,"p",12)(6,"strong"),i(7,"Genero: "),t(),n(8,"span",19),i(9),t()(),n(10,"h5",17),i(11,"Disponibilidad"),t(),n(12,"div",20)(13,"p",21)(14,"strong"),i(15,"Ejemplares disponibles:"),t(),i(16),t(),n(17,"div",22)(18,"a",23),i(19," \u{1F4E5} Descargar libro "),t()()()()),r&2){let e=p();o(4),c(" ",e.libro.descripcion," "),o(5),b(e.libro.genero),o(7),c(" ",e.contarDisponibles()," "),o(2),a("href",e.libro.archivoUrl,d)}}var _=class r{constructor(l,e){this.route=l;this.librosService=e}libro=null;ejemplares=[];ngOnInit(){let l=this.route.snapshot.paramMap.get("id");l&&this.librosService.getLibro(+l).subscribe({next:e=>this.libro=e,error:e=>console.error("Error cargando libro",e)})}contarDisponibles(){return this.libro?this.libro.ejemplares?.filter(l=>l.estado==="DISPONIBLE").length??0:0}static \u0275fac=function(e){return new(e||r)(m(E),m(D))};static \u0275cmp=u({type:r,selectors:[["app-detalle"]],decls:9,vars:2,consts:[[1,"container","my-5"],["routerLink","/catalogo",1,"btn","btn-danger","btn-sm"],[1,"mb-4","fw-bold"],[1,"book-detail"],[1,"row"],["class","col-md-4 text-center mb-4 mb-md-0",4,"ngIf"],["class","col-md-8",4,"ngIf"],[1,"col-md-4","text-center","mb-4","mb-md-0"],[1,"position-relative","d-inline-block"],[1,"book-image","mb-3",3,"src","alt"],["class",`position-absolute top-0 start-0 w-100 h-100 bg-dark bg-opacity-75
            d-flex align-items-center justify-content-center text-white fw-bold fs-6`,4,"ngIf"],[1,"fw-bold"],[1,"mb-1"],[1,"mb-3"],[1,"btn","btn-purple","w-100",3,"routerLink"],[1,"position-absolute","top-0","start-0","w-100","h-100","bg-dark","bg-opacity-75","d-flex","align-items-center","justify-content-center","text-white","fw-bold","fs-6"],[1,"col-md-8"],[1,"section-title"],[2,"text-align","justify"],[1,"btn","btn-info"],[1,"form-check","mb-2"],[1,"text-muted","ms-3"],[1,"mt-3"],["download","",1,"btn","btn-success",3,"href"]],template:function(e,f){e&1&&(n(0,"div",0)(1,"a",1),i(2," Volver al Cat\xE1logo "),t(),n(3,"h2",2),i(4,"Detalle libro"),t(),n(5,"div",3)(6,"div",4),s(7,k,24,11,"div",5)(8,C,20,4,"div",6),t()()()),e&2&&(o(7),a("ngIf",f.libro),o(),a("ngIf",f.libro))},dependencies:[h,v,I,S],styles:[".book-detail[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:2rem;box-shadow:0 0 10px #0000000d}.book-image[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px}.btn-purple[_ngcontent-%COMP%]{background-color:#6c2bd9;color:#fff;font-weight:700}.btn-purple[_ngcontent-%COMP%]:hover{background-color:#5a1cc3}.form-check-label[_ngcontent-%COMP%]{font-weight:500}.section-title[_ngcontent-%COMP%]{font-weight:600;margin-top:2rem}"]})};export{_ as a};
